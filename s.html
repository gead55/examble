<script type="text/javascript">
	var numbers = [1,2,3,4,5,6,7,8,9];
	var sdk = [
			[1, 2, 3, 4, 5, 6, 7, 8, 9],
			[1, 2, 3, 4, 5, 6, 7, 8, 9],
			[1, 2, 3, 4, 5, 6, 7, 8, 9],
			[1, 2, 3, 4, 5, 6, 7, 8, 9],
			[1, 2, 3, 4, 5, 6, 7, 8, 9],
			[1, 2, 3, 4, 5, 6, 7, 8, 9],
			[1, 2, 3, 4, 5, 6, 7, 8, 9],
			[1, 2, 3, 4, 5, 6, 7, 8, 9],
			[1, 2, 3, 4, 5, 6, 7, 8, 9],
		   ];
	var cube = [];
	
	function sudoku(){
		// set default 3 box [2,4,6]
		for (var i = cube.length; i < 81; i++) {
			var ibox = checkIbox(i);
			if(ibox === 2 || ibox === 4 || ibox === 6){
				var ria = randomInArray(sdk[ibox]);
				cube[i] = sdk[ibox][ria];
				
				sdk[ibox].splice(ria,1);
			}else{
				cube[i] = 0;
			}
		}
		console.log(sdk);
		cube = cube.map(findNCanbe);
		return b2Dimension(cube);
	}

	function findNCanbe(c,i,a){
		if(c > 0 ) return c;
		var numbers = [1,2,3,4,5,6,7,8,9];
		var arr = [];
		var ibox = checkIbox(i);
		// find rows
		var row = i/9;
		var irow = a.slice(Math.floor(row*9),Math.floor(row+9));
		// console.log(Math.floor(row*9)+":"+Math.floor(row+9));
		// var pbox = checkPbox(i);
		//sdk[ibox] N in box
		// N in Columns
		var icol = Math.floor(c%9);
		// for (var k = numbers.length - 1; k >= 0; k--) {
		// 	// console.log(numbers[i]+":"+(icol));
		// 	if(cube[icol] > 0)
		// 		arr[arr.length] = cube[icol];
		// 	icol+=9;
		// }
		var io = randomInArray(sdk[ibox]);
		return -1;
	}

	function checkPbox(cunt){
		var column = Math.floor((cunt%3));
		var line = Math.floor(Math.floor(cunt/9)%3);
		return column+(line*3);
	}

	function checkIbox(cunt){
		var column = Math.floor((cunt/3)%3);
		var line = Math.floor(Math.floor(cunt/9)/3);
		return column+(line*3);
	}

	function b2Dimension(array){
		var arr = [];
		var tmp = [];
		for (var i = 0; i < array.length; i++) {
			tmp[i%9] = array[i];
			if(i%9 === 8){
				arr[arr.length] = tmp;
				tmp = [];
			}
		}
		// console.log(arr);
		return arr;
	}

	function randomInArray(items){
		return Math.floor(Math.random()*items.length);

		// var indexRandom = Math.floor(Math.random()*items.length);
		// var item = [items[indexRandom],indexRandom];
		// return item;
	}
console.log(sudoku());
</script>