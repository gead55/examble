<html>
   <head>
      <title>SoDuKu with Vue</title>
   <link rel="stylesheet" href="main.css">
      <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>

   </head>
   <script type="text/x-template" id="grid-template">
   	   	<table class="sudoku-container">
         	<tbody>
         	<tr v-for="(line, row) in data">
         		<td v-for="item, col in line" :class="get_bg(row,col)">
					<button :id="this._uid" type="button" :style="styObj" @click="(item>0) ? on_selected(item) : set_no(row,col)">
						{{ item | show_no }}
					</button>
         		</td>
         	</tr>
         </tbody>
        </table>
   </script>
   <body>
      <div id="root">
      	<cube 
      	:data="grids"
      	:selectnumber="selectnumber"
      	@pickup="set_color"
      	></cube>
      </div>
      
      <script type="text/javascript">
      	Vue.component('cube',{
      		template: '#grid-template',
			props:{
			    data: Array,
				selectnumber: Number,

			},
      		data: function(){
      			return {
					styObj:{
						color: 'blue',
	  					fontSize: 30,
					}
      			}
      		},
      		filters: {
				show_no: function (value) {
				  if(value > 0)
				  	return value
				  else
				  	return null
				},
				on_selected: function (value) {
      				console.log(value)

				}
			},
      		computed: {
      			filteredData: function(i){
      				// console.log(this.grids)
      				// console.log('pickup')
					this.$emit('pickup',this._uid)

      			}
      		},
      		methods:{
      			get_bg : function(rows,cols) {
			      return ((( (cols>2&&cols<6)||(rows>2&&rows<6) )&&( (cols<3||cols>5)||(rows<3||rows>5) )) ? "bg1" : "bg2");
			   }
      		}
      	})

		var app = new Vue({
			el: '#root',
			data:{
				styObj:{
					color: 'red',
  					fontSize: 30,
				},
			  	selectnumber: 0,
			   	grids: [
						[ 0, 9, 0, 0, 0, 0, 8, 5, 3 ],
						[ 0, 0, 0, 8, 0, 0, 0, 0, 4 ],
						[ 0, 0, 8, 2, 0, 3, 0, 6, 9 ],
						[ 5, 7, 4, 0, 0, 2, 0, 0, 0 ],
						[ 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
						[ 0, 0, 0, 9, 0, 0, 6, 3, 7 ],
						[ 9, 4, 0, 1, 0, 8, 5, 0, 0 ],
						[ 7, 0, 0, 0, 0, 6, 0, 0, 0 ],
						[ 6, 8, 2, 0, 0, 0, 0, 9, 0 ] 
					  ],
			},

			methods: {
			   set_color: function(i){
      			  console.log(i)

			   }
			}
		});
"use strict"
      </script>

   </body>
</html>